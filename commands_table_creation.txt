create table admin
(
    admin_code varchar(45) primary key not null unique,
    name varchar(20) not null,
    phone_number_code varchar(45) not null unique foreign key references phone_number(phone_number_code),
    aadhar_number varchar(12) not null unique,
    image varchar(100) not null,
    aadhar_card varchar(100) not null,
    office_location varchar(20) not null,
    personal_address_code not null foreign key references address(personal_address_code),
    email varchar(25)
);

create table bank_acc_info
(
    search_code varchar(45) primary key not null unique,
    acc_hldr_code varchar(45) not null,
    account_number varchar(45) not null,
    credit_score decimal not null,
    app_admin_code varchar(45) not null foreign key references admin(admin_code)
    bank_code varchar(45) not null,
    verification_status varchar(45)
);

create table payment
(
transaction_code varchar(45) not null unique primary key,
buyer_code varchar(45) not null foreign key references buyer(buyer_code),
approval_code varchar(45) not null foreign key references  approval(approval_code),
transaction_type varchar (45) not null,
time_of_transfer time not null,
date_of_transfer time not null,
buyer_acc_scode varchar(45) not null foreign key references bank_acc_info(search_code),
owner_acc_scode varchar(45) not null foreign key references bank_acc_info(search_code)
approval_status varchar(45) ,
property_code varchar(45) not null foreign key references property(property_code),
broker_code varchar(45) not null foreign key references broker(broker_code),
owner_code varchar(45) not null foreign key references owner(owner_code)
);

create table admin_clearance
(
    admin_code varchar(45) not null unique primary key foreign key references admin(admin_code),
    land_app_right integer,
    home_app_right integer,
    approval_cap decimal,
    seller_app_right integer,
    broker_elm_right integer,
    transaction_cap decimal,
    profile_deletion_right integer
);

create table approval
(
    approval_code varchar(45) not null unique primary key,
    admin_code varchar(45) not null foreign key references admin(admin_code),
    approval_status varchar(10) not null,
    revision integer
);
 
create table buyer
(
    buyer_code varchar(45) not null unique primarykey,
    name varchar(45) not null,
    phone_number_code varchar(45) not null unique foreign key references phone_number(phone_number_code),
    aadhar_number varchar(12) not null unique,
    image varchar(100) not null,
    email varchar(25) not null
);

create table rental 
(
    property_subcode varchar(45) not null unique primary key,
    property_code varchar(45) not null foreign key  references property(property_code),
    approval_code varchar(45) not null foreign key references approval(approval_code),
    broker_code varchar(45) foreign key references broker(broker_code),
    security_deposit decimal not null,
    maintenance decimal not null,
    average_water_tax decimal not null,
    average_eb_bill decimal not null,
    rent_hike decimal,
    rent decimal not null
);

create table property_bidding 
(
    bid_code varchar(45) not null unique primary key,
    property_code varchar(45) not null foreign key references property(property_code),
    approval_code varchar(45) not null unique foreign key references approval(approval_code),
    acceptance varchar(45) not null,
    bid_value decimal not null,
    bid_status varchar(45) not null,
    buyer_code varchar(45) not null foreign key references buyer(buyer_code)
);

create table registration
(
    registration_code varchar(45) not null unique primary key,
    property_code varchar(45) not null foreign key references property(property_code),
    approval_code varchar(45) not null unique foreign key references approval(approval_code),
    transaction_code varchar(45) not null unique foreign key references payment(transaction_code),
    date_of_reg date not null,
    stamp_value decimal not null,
    owner_code varchar(45) not null foreign key references owner(owner_code),
    buyer_code varchar(45) not null foreign key references buyer(buyer_code)
);

create table tenants
(
    property_subcode varchar(45) not null foreign key references rental(property_subcode),
    tenant_code varchar(45) not null unique primary key,
    phone_number_code varchar(45) not null foreign key references phone_number(phone_number_code),
    aadhar_number varchar(12) not null unique,
    aadhar_card  varchar(100) ,
    identity_proof varchar(100),
    email varchar(25),
    image varchar(100)
);

create table owner
(
    owner_code varchar(45) not null unique primary key,
    name varchar(45) not null,
    phone_number_code not null foreign key references phone_number(phone_number_code),
    aadhar_number varchar(12) not null unique,
    aadhar_card  varchar(100) ,
    identity_proof varchar(100),
    email varchar(25),
    image varchar(100),
    reliability_rating decimal
);

create table property 
(
    property_code varchar(45) not null unique primary key,
    owner_code varchar(45) not null foreign key references owner(owner_code),
    approval_code varchar(45) not null unique references approval(approval_code),
    name varchar(45) not null,
    address_code varchar(45) not null  foreign key references address(address_code),
    property_type varchar(45) not null,
    year_of_cons date,
    broker_code varchar(45) foreign key references broker(broker_code),
    property_image varchar(100)
);

create table coliving
(
    property_subcode varchar(45) not null unique primary key foreign key references rental(property_subcode),
    property_code varchar(45) not null foreign key references property(property_code),
    current_tenant varchar(45) not null foreign key references tenants(tenant_code),
    broker_code varchar(45)  foreign key references  broker(broker_code)
);

create table property_documentation
(
    property_code varchar(45) not null unique primary key foreign key references property(property_code),
    document_code varchar(45) not null unique,
    document varchar(100) not null,
    document_legitimacy varchar(45)
);
 
create table geographic_advantage
(
    property_code varchar(45) not null unique primary key foreign key references  property(property_code),
    market decimal,
    school decimal,
    airport decimal,
    raw_materials decimal,
    hospitals decimal,
    clinic decimal,
    library decimal
);

create table amenities 
(
    property_code varchar(45) not null unique primary key foreign key references property(property_code),
    clubhouse integer,
    pool integer,
    play_ground integer,
    assistance integer,
    security integer

);

create table owner
(
    broker_code varchar(45) not null unique primary key,
    name varchar(45) not null,
    phone_number_code not null foreign key references phone_number(phone_number_code),
    aadhar_number varchar(12) not null unique,
    aadhar_card  varchar(100) ,
    identity_proof varchar(100),
    email varchar(25),
    image varchar(100),
    reliability_rating decimal,
    review varchar(100)
);

create table login_info
(
    code varchar(45) not null unique primary  key,
    password varchar(20) not null 
);

create table phone_number
(
    key_s integer not null primary key,
    phone_number_code varchar(45) not null,
    phone_numbers varchar(10) not null
);

create table address
(
    address_code varchar(45) not null unique primary key,
    street varchar(45) not null,
    door_num varchar(5) not null,
    locality varchar(20) not null,
    pincode varchar(6) not null
);


